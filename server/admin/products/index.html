<!DOCTYPE html>
<html>
<head>
    <title>Product Management</title>
</head>
<body>
    <h1>Product Management</h1>

    <!-- Add Product Form -->
    <h2>Add Product</h2>
    <form action="add.php" method="post" enctype="multipart/form-data">
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name"><br>
        <label for="description">Description:</label><br>
        <input type="text" id="description" name="description"><br>
        <label for="price">Price:</label><br>
        <input type="text" id="price" name="price"><br>
        <label for="fileToUpload">Image:</label><br>
        <input type="file" id="fileToUpload" name="fileToUpload"><br>
        <label for="type">Type:</label><br>
        <input type="text" id="type" name="type"><br>
        <input type="submit" value="Add Product" name="submit">
    </form>

    <!-- Remove Product Form -->
    <h2>Remove Product</h2>
    <form action="remove.php" method="post">
        <label for="id">Product ID:</label><br>
        <input type="text" id="id" name="id"><br>
        <input type="submit" value="Remove Product" name="submit">
    </form>

    <!-- Update Product Form -->
    <h2>Update Product</h2>
    <form action="update.php" method="post" enctype="multipart/form-data">
        <label for="id">Product ID:</label><br>
        <input type="text" id="id" name="id"><br>
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name"><br>
        <label for="description">Description:</label><br>
        <input type="text" id="description" name="description"><br>
        <label for="price">Price:</label><br>
        <input type="text" id="price" name="price"><br>
        <label for="fileToUpload">Image:</label><br>
        <input type="file" id="fileToUpload" name="fileToUpload"><br>
        <label for="type">Type:</label><br>
        <input type="text" id="type" name="type"><br>
        <input type="submit" value="Update Product" name="submit">
    </form>

    <!-- Show Products -->
    <h2>Products</h2>
    <div id="products"></div>

    <script>
        // Fetch products from the server
        fetch('show.php')
            .then(response => response.json())
            .then(data => {
                const productsDiv = document.getElementById('products');
                data.forEach(product => {
                    const productDiv = document.createElement('div');
                    productDiv.textContent = `ID: ${product.id}, Name: ${product.name}, Description: ${product.description}, Price: ${product.price}, Type: ${product.type}, Rating: ${product.rating}`;

                    // Create an img element and set its src to the image path
                    const img = document.createElement('img');
                    img.src = product.image;
                    img.alt = product.name;

                    // Append the img element to the productDiv
                    productDiv.appendChild(img);

                    productsDiv.appendChild(productDiv);
                });
            })
            .catch(error => console.error('Error:', error));
    </script>
</body>
</html>